<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Producción</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      /* --- Estilos generales --- */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        background-color: #f4f5f7;
        color: #1f2937;
      }

      .dashboard {
        max-width: 1400px;
        margin: auto;
        padding: 20px;
      }

      h1,
      h2,
      h3 {
        color: #1e40af;
      }

      .banner img {
        width: 100%;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      /* --- KPIs --- */
      .kpis {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .kpi {
        background: #fff;
        flex: 1;
        min-width: 150px;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
      }

      .kpi:hover {
        transform: translateY(-5px);
      }

      /* --- Gráficas --- */
      .charts {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 20px;
      }

      .chart {
        flex: 1;
        min-width: 300px;
        background: #fff;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      /* --- Tablas --- */
      table {
        width: 100%;
        border-collapse: collapse;
        background: #fff;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      th,
      td {
        padding: 10px;
        text-align: center;
        border-bottom: 1px solid #e5e7eb;
      }

      th {
        background: #1e40af;
        color: white;
      }

      .status.pending {
        color: #f59e0b;
        font-weight: bold;
      }
      .status.process {
        color: #16a34a;
        font-weight: bold;
      }
      .status.done {
        color: #2563eb;
        font-weight: bold;
      }
      .status.delay {
        color: #dc2626;
        font-weight: bold;
      }

      /* --- Tracking --- */
      .tracking-grid {
        display: flex;
        gap: 15px;
        overflow-x: auto;
        padding-bottom: 10px;
        margin-bottom: 30px;
      }

      .tracking-card {
        min-width: 220px;
        background: #fff;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        flex-shrink: 0;
        transition: transform 0.3s;
      }

      .tracking-card:hover {
        transform: translateY(-5px);
      }

      .areas {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin: 10px 0;
      }

      .area {
        padding: 5px 10px;
        border-radius: 5px;
        color: white;
        font-size: 0.8rem;
      }

      .area.done {
        background: #16a34a;
      }
      .area.process {
        background: #f59e0b;
      }
      .area.pending {
        background: #6b7280;
      }

      .qr {
        text-align: center;
        margin-top: 10px;
      }
      .qr img {
        border-radius: 8px;
      }

      /* --- RC & FFTT --- */
      .rc-fftt {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        margin-bottom: 30px;
      }

      .card {
        flex: 1;
        min-width: 300px;
        background: #fff;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .card h3 {
        margin-top: 0;
      }

      .filter {
        margin: 10px 0;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .filter button {
        padding: 5px 10px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        background: #1e40af;
        color: white;
        transition: background 0.3s;
      }

      .filter button.active {
        background: #2563eb;
      }

      .card ul {
        list-style: none;
        padding: 0;
        max-height: 200px;
        overflow-y: auto;
        margin: 0;
      }

      .card ul li {
        padding: 5px 0;
        border-bottom: 1px solid #e5e7eb;
      }
    </style>
  </head>
  <body>
    <div class="dashboard">
      <!-- Banner -->
      <div class="banner">
        <img src="Tegra_Horiz-Red_DoNotScaleup.jpg" alt="Banner Tegra" />
      </div>

      <h1>Dashboard Producción</h1>

      <!-- KPIs -->
      <div class="kpis">
        <div class="kpi">
          <h2>Producción</h2>
          <p>1,600,000</p>
        </div>
        <div class="kpi">
          <h2>Eficiencia</h2>
          <p>68%</p>
        </div>
        <div class="kpi">
          <h2>Incompletos</h2>
          <p>12</p>
        </div>
        <div class="kpi">
          <h2>Lotes</h2>
          <p>56</p>
        </div>
        <div class="kpi">
          <h2>HC</h2>
          <p>502</p>
        </div>
      </div>

      <!-- Gráficos -->
      <div class="charts">
        <div class="chart">
          <h3>Producción por Día</h3>
          <canvas id="produccionDia" height="160"></canvas>
        </div>
        <div class="chart">
          <h3>Producción por Máquina</h3>
          <canvas id="produccionMaquina" height="160"></canvas>
        </div>
        <div class="chart">
          <h3>Eficiencia Semanal</h3>
          <canvas id="eficiencia" height="160"></canvas>
        </div>
      </div>

      <!-- Estado de Máquinas -->
      <section class="machines">
        <h2>Estado de Máquinas</h2>
        <table>
          <thead>
            <tr>
              <th>Máquina</th>
              <th>Meta</th>
              <th>Tiempo Restante</th>
              <th>Hora Inicio</th>
              <th>Hora Fin</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>T01</td>
              <td>500</td>
              <td>1h 30m</td>
              <td>08:00</td>
              <td>09:30</td>
              <td><span class="status process">En Proceso</span></td>
            </tr>
            <tr>
              <td>T02</td>
              <td>600</td>
              <td>45m</td>
              <td>08:15</td>
              <td>09:00</td>
              <td><span class="status done">Completado</span></td>
            </tr>
            <tr>
              <td>T03</td>
              <td>400</td>
              <td>2h 00m</td>
              <td>07:30</td>
              <td>09:30</td>
              <td><span class="status pending">Pendiente</span></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Historial de Lotes -->
      <section class="history">
        <h2>Historial de Lotes Incompletos</h2>
        <div class="history-filters">
          <input type="text" placeholder="Buscar lote o producto" />
          <select>
            <option>Todos</option>
            <option>Pendiente</option>
            <option>En proceso</option>
            <option>Retrasado</option>
          </select>
        </div>
        <div class="history-table">
          <table>
            <thead>
              <tr>
                <th>Lote</th>
                <th>Producto</th>
                <th>Máquina</th>
                <th>Cant.</th>
                <th>Turno</th>
                <th>Estado</th>
                <th>Fecha</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>#PO-v124857</td>
                <td>Running</td>
                <td>T03</td>
                <td>1,200</td>
                <td>A</td>
                <td><span class="status pending">Pendiente</span></td>
                <td>04/02/26</td>
              </tr>
              <tr>
                <td>#PO-v121041</td>
                <td>Nike</td>
                <td>T07</td>
                <td>850</td>
                <td>B</td>
                <td><span class="status process">Proceso</span></td>
                <td>05/02/26</td>
              </tr>
              <tr>
                <td>#PO-v121050</td>
                <td>NBA</td>
                <td>T01</td>
                <td>430</td>
                <td>C</td>
                <td><span class="status delay">Retraso</span></td>
                <td>01/02/26</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Tracking de Producción -->
      <section class="tracking">
        <h2>Tracking de Lotes</h2>
        <div class="tracking-grid">
          <!-- Lotes... -->
          <div class="tracking-card">
            <h3>Lote #PO-v124857</h3>
            <p>Producto: Running</p>
            <div class="areas">
              <div class="area done">Diseño ✔</div>
              <div class="area done">Plotter ✔</div>
              <div class="area process">Corte ⏳</div>
              <div class="area pending">Sublimado ⬜</div>
              <div class="area pending">RC ⬜</div>
              <div class="area pending">FFTT ⬜</div>
            </div>
            <div class="qr">
              <img
                src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=Lote-PO-v124857"
                alt="QR Lote"
              />
              <p>Escanea para tracking</p>
            </div>
          </div>

          <div class="tracking-card">
            <h3>Lote #PO-v121041</h3>
            <p>Producto: Nike</p>
            <div class="areas">
              <div class="area done">Diseño ✔</div>
              <div class="area done">Plotter ✔</div>
              <div class="area done">Corte ✔</div>
              <div class="area process">Sublimado ⏳</div>
              <div class="area pending">RC ⬜</div>
              <div class="area pending">FFTT ⬜</div>
            </div>
            <div class="qr">
              <img
                src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=Lote-PO-v121041"
                alt="QR Lote"
              />
              <p>Escanea para tracking</p>
            </div>
          </div>

          <div class="tracking-card">
            <h3>Lote #PO-v121050</h3>
            <p>Producto: NBA</p>
            <div class="areas">
              <div class="area done">Diseño ✔</div>
              <div class="area done">Plotter ✔</div>
              <div class="area process">Corte ⏳</div>
              <div class="area pending">Sublimado ⬜</div>
              <div class="area pending">RC ⬜</div>
              <div class="area pending">FFTT ⬜</div>
            </div>
            <div class="qr">
              <img
                src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=Lote-PO-v121050"
                alt="QR Lote"
              />
              <p>Escanea para tracking</p>
            </div>
          </div>
        </div>
      </section>

      <!-- RC & FFTT -->
      <section class="rc-fftt">
        <!-- RC -->
        <div class="card">
          <h3>RC - Reposición / Incompletos</h3>
          <p>
            <strong>Total hoy: <span id="rc-count">7</span> lotes</strong>
          </p>
          <div class="filter">
            <button class="active" data-filter="all">Todos</button>
            <button data-filter="reposicion">Reposición</button>
            <button data-filter="incompleto">Incompletos</button>
          </div>
          <ul id="rc-list">
            <li data-type="reposicion">Lote #PO-v124857 - Reposición</li>
            <li data-type="incompleto">Lote #PO-v121050 - Incompleto</li>
            <li data-type="incompleto">Lote #PO-v121070 - Incompleto</li>
            <li data-type="reposicion">Lote #PO-v121080 - Reposición</li>
            <li data-type="incompleto">Lote #PO-v121090 - Incompleto</li>
            <li data-type="reposicion">Lote #PO-v121100 - Reposición</li>
            <li data-type="incompleto">Lote #PO-v121110 - Incompleto</li>
          </ul>
        </div>

        <!-- FFTT -->
        <div class="card">
          <h3>FFTT - Muestras / Rechazados</h3>
          <p>
            <strong
              >Total hoy: <span id="fftt-count">9</span> muestras/lotes</strong
            >
          </p>
          <div class="filter">
            <button class="active" data-filter="all">Todos</button>
            <button data-filter="muestra">Muestras</button>
            <button data-filter="rechazado">Rechazados</button>
          </div>
          <ul id="fftt-list">
            <li data-type="muestra">Muestra #01 - En Proceso</li>
            <li data-type="rechazado">Muestra #02 - Rechazada</li>
            <li data-type="muestra">Muestra #03 - En Proceso</li>
            <li data-type="rechazado">Muestra #04 - Rechazada</li>
            <li data-type="rechazado">Lote #PO-v124060 - Rechazado</li>
            <li data-type="muestra">Lote #PO-v124061 - En Proceso</li>
            <li data-type="rechazado">Muestra #05 - Rechazada</li>
            <li data-type="muestra">Lote #PO-v124062 - En Proceso</li>
            <li data-type="rechazado">Muestra #06 - Rechazada</li>
          </ul>
        </div>
      </section>
    </div>

    <script>
      // --- Gráficos ---
      new Chart(document.getElementById("produccionDia"), {
        type: "bar",
        data: {
          labels: ["Lun", "Mar", "Mié", "Jue", "Vie"],
          datasets: [
            { data: [1500, 400, 500, 1300, 1800], backgroundColor: "#1e40af" },
          ],
        },
        options: { responsive: true, plugins: { legend: { display: false } } },
      });

      new Chart(document.getElementById("produccionMaquina"), {
        type: "doughnut",
        data: {
          labels: ["T1", "T2", "T3", "T4"],
          datasets: [
            {
              data: [400, 800, 200, 100],
              backgroundColor: ["#1e40af", "#2563eb", "#3b82f6", "#60a5fa"],
            },
          ],
        },
        options: { responsive: true },
      });

      new Chart(document.getElementById("eficiencia"), {
        type: "line",
        data: {
          labels: ["Lun", "Mar", "Mié", "Jue", "Vie"],
          datasets: [
            {
              data: [10, 40, 70, 90, 20],
              borderColor: "#16a34a",
              backgroundColor: "rgba(22,163,52,.2)",
              fill: true,
              tension: 0.4,
            },
          ],
        },
        options: { responsive: true },
      });

      // --- Filtros RC ---
      document
        .querySelectorAll(".rc-fftt .card .filter button")
        .forEach((btn) => {
          btn.addEventListener("click", () => {
            const list = btn.closest(".card").querySelector("ul");
            const items = list.querySelectorAll("li");
            const filter = btn.dataset.filter;

            btn.parentNode
              .querySelectorAll("button")
              .forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");

            items.forEach((li) => {
              li.style.display =
                filter === "all" || li.dataset.type === filter
                  ? "block"
                  : "none";
            });
          });
        });
    </script>
  </body>
</html>
